
// Custom API data for Indian weather
const INDIAN_WEATHER_DATA ={
  "api_version": "1.0",
  "last_updated": "2025-06-07T15:00:00Z",
  "locations": [
    {
      "state": "Telangana",
      "city": "Hyderabad",
      "coordinates": {
        "latitude": 17.3850,
        "longitude": 78.4867
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Partly Cloudy",
        "description": "Scattered clouds with a chance of light showers.",
        "humidity_percent": 65,
        "wind_speed_kmph": 15,
        "wind_direction": "SW",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Warangal",
      "coordinates": {
        "latitude": 17.9689,
        "longitude": 79.5941
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Sunny",
        "description": "Clear skies throughout the day.",
        "humidity_percent": 55,
        "wind_speed_kmph": 10,
        "wind_direction": "N",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Karimnagar",
      "coordinates": {
        "latitude": 18.4382,
        "longitude": 79.1288
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 31,
        "temperature_fahrenheit": 87.8,
        "condition": "Hazy",
        "description": "Slight haze with reduced visibility.",
        "humidity_percent": 60,
        "wind_speed_kmph": 8,
        "wind_direction": "SE",
        "icon_code": "50d"
      }
    },
    {
      "state": "Telangana",
      "city": "Khammam",
      "coordinates": {
        "latitude": 17.2500,
        "longitude": 80.1500
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 33,
        "temperature_fahrenheit": 91.4,
        "condition": "Hot",
        "description": "Very hot and dry conditions.",
        "humidity_percent": 50,
        "wind_speed_kmph": 18,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Nizamabad",
      "coordinates": {
        "latitude": 18.6700,
        "longitude": 78.1000
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 29,
        "temperature_fahrenheit": 84.2,
        "condition": "Cloudy",
        "description": "Overcast skies with no immediate rain.",
        "humidity_percent": 70,
        "wind_speed_kmph": 12,
        "wind_direction": "NW",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Siddipet",
      "coordinates": {
        "latitude": 18.1000,
        "longitude": 78.8500
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Sunny",
        "description": "Clear and bright.",
        "humidity_percent": 58,
        "wind_speed_kmph": 9,
        "wind_direction": "N",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Mahabubnagar",
      "coordinates": {
        "latitude": 16.7333,
        "longitude": 77.9833
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Partly Cloudy",
        "description": "Scattered clouds.",
        "humidity_percent": 62,
        "wind_speed_kmph": 14,
        "wind_direction": "SW",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Adilabad",
      "coordinates": {
        "latitude": 19.6667,
        "longitude": 78.5333
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 29,
        "temperature_fahrenheit": 84.2,
        "condition": "Cloudy",
        "description": "Cloudy with chance of drizzle.",
        "humidity_percent": 75,
        "wind_speed_kmph": 10,
        "wind_direction": "W",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Nalgonda",
      "coordinates": {
        "latitude": 17.0500,
        "longitude": 79.2667
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 34,
        "temperature_fahrenheit": 93.2,
        "condition": "Sunny",
        "description": "Clear skies.",
        "humidity_percent": 48,
        "wind_speed_kmph": 16,
        "wind_direction": "SE",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Mancherial",
      "coordinates": {
        "latitude": 18.8667,
        "longitude": 79.4333
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 31,
        "temperature_fahrenheit": 87.8,
        "condition": "Hazy",
        "description": "Hazy conditions.",
        "humidity_percent": 55,
        "wind_speed_kmph": 7,
        "wind_direction": "NE",
        "icon_code": "50d"
      }
    },
    {
      "state": "Telangana",
      "city": "Jagtial",
      "coordinates": {
        "latitude": 18.7833,
        "longitude": 78.9167
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Partly Cloudy",
        "description": "Partly cloudy with some sunshine.",
        "humidity_percent": 60,
        "wind_speed_kmph": 11,
        "wind_direction": "S",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Ramagundam",
      "coordinates": {
        "latitude": 18.7500,
        "longitude": 79.4667
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 33,
        "temperature_fahrenheit": 91.4,
        "condition": "Sunny",
        "description": "Clear and hot.",
        "humidity_percent": 52,
        "wind_speed_kmph": 13,
        "wind_direction": "SW",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Suryapet",
      "coordinates": {
        "latitude": 17.1500,
        "longitude": 79.6333
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 34,
        "temperature_fahrenheit": 93.2,
        "condition": "Sunny",
        "description": "Bright and sunny.",
        "humidity_percent": 45,
        "wind_speed_kmph": 17,
        "wind_direction": "SE",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Nagarkurnool",
      "coordinates": {
        "latitude": 16.4833,
        "longitude": 78.3167
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Partly Cloudy",
        "description": "Mix of sun and clouds.",
        "humidity_percent": 60,
        "wind_speed_kmph": 14,
        "wind_direction": "W",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Kamareddy",
      "coordinates": {
        "latitude": 18.3167,
        "longitude": 78.3500
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 31,
        "temperature_fahrenheit": 87.8,
        "condition": "Hazy",
        "description": "Hazy with reduced visibility.",
        "humidity_percent": 55,
        "wind_speed_kmph": 9,
        "wind_direction": "NW",
        "icon_code": "50d"
      }
    },
    {
      "state": "Telangana",
      "city": "Bhupalpally",
      "coordinates": {
        "latitude": 18.4333,
        "longitude": 79.8833
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Cloudy",
        "description": "Overcast.",
        "humidity_percent": 70,
        "wind_speed_kmph": 10,
        "wind_direction": "E",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Kothagudem",
      "coordinates": {
        "latitude": 17.9500,
        "longitude": 80.6167
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 33,
        "temperature_fahrenheit": 91.4,
        "condition": "Sunny",
        "description": "Clear and hot.",
        "humidity_percent": 50,
        "wind_speed_kmph": 15,
        "wind_direction": "S",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Peddapalli",
      "coordinates": {
        "latitude": 18.6167,
        "longitude": 79.4333
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 31,
        "temperature_fahrenheit": 87.8,
        "condition": "Partly Cloudy",
        "description": "Scattered clouds.",
        "humidity_percent": 60,
        "wind_speed_kmph": 12,
        "wind_direction": "SW",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Vikarabad",
      "coordinates": {
        "latitude": 17.3333,
        "longitude": 77.9000
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Sunny",
        "description": "Clear skies.",
        "humidity_percent": 55,
        "wind_speed_kmph": 10,
        "wind_direction": "NW",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Sangareddy",
      "coordinates": {
        "latitude": 17.6500,
        "longitude": 78.0833
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Hazy",
        "description": "Hazy with some sun.",
        "humidity_percent": 58,
        "wind_speed_kmph": 11,
        "wind_direction": "N",
        "icon_code": "50d"
      }
    },
    {
      "state": "Maharashtra",
      "city": "Mumbai",
      "coordinates": {
        "latitude": 19.0760,
        "longitude": 72.8777
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 28,
        "temperature_fahrenheit": 82.4,
        "condition": "Rainy",
        "description": "Intermittent light rain.",
        "humidity_percent": 80,
        "wind_speed_kmph": 20,
        "wind_direction": "W",
        "icon_code": "10d"
      }
    },
    {
      "state": "Maharashtra",
      "city": "Pune",
      "coordinates": {
        "latitude": 18.5204,
        "longitude": 73.8567
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 26,
        "temperature_fahrenheit": 78.8,
        "condition": "Partly Cloudy",
        "description": "Partly cloudy with pleasant weather.",
        "humidity_percent": 75,
        "wind_speed_kmph": 15,
        "wind_direction": "NW",
        "icon_code": "04d"
      }
    },
    {
      "state": "Maharashtra",
      "city": "Nagpur",
      "coordinates": {
        "latitude": 21.1458,
        "longitude": 79.0882
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 35,
        "temperature_fahrenheit": 95,
        "condition": "Sunny",
        "description": "Hot and clear.",
        "humidity_percent": 40,
        "wind_speed_kmph": 10,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Delhi",
      "city": "New Delhi",
      "coordinates": {
        "latitude": 28.7041,
        "longitude": 77.1025
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 38,
        "temperature_fahrenheit": 100.4,
        "condition": "Clear",
        "description": "Hot and clear skies.",
        "humidity_percent": 30,
        "wind_speed_kmph": 12,
        "wind_direction": "NW",
        "icon_code": "01d"
      }
    },
    {
      "state": "Karnataka",
      "city": "Bengaluru",
      "coordinates": {
        "latitude": 12.9716,
        "longitude": 77.5946
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 25,
        "temperature_fahrenheit": 77,
        "condition": "Pleasant",
        "description": "Mild and pleasant weather.",
        "humidity_percent": 70,
        "wind_speed_kmph": 18,
        "wind_direction": "W",
        "icon_code": "02d"
      }
    },
    {
      "state": "Tamil Nadu",
      "city": "Chennai",
      "coordinates": {
        "latitude": 13.0827,
        "longitude": 80.2707
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 36,
        "temperature_fahrenheit": 96.8,
        "condition": "Hot and Humid",
        "description": "Very hot and humid.",
        "humidity_percent": 85,
        "wind_speed_kmph": 10,
        "wind_direction": "SE",
        "icon_code": "01d"
      }
    },
    {
      "state": "West Bengal",
      "city": "Kolkata",
      "coordinates": {
        "latitude": 22.5726,
        "longitude": 88.3639
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 31,
        "temperature_fahrenheit": 87.8,
        "condition": "Humid",
        "description": "Humid with chance of rain.",
        "humidity_percent": 82,
        "wind_speed_kmph": 15,
        "wind_direction": "S",
        "icon_code": "09d"
      }
    },
    {
      "state": "Gujarat",
      "city": "Ahmedabad",
      "coordinates": {
        "latitude": 23.0225,
        "longitude": 72.5714
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 39,
        "temperature_fahrenheit": 102.2,
        "condition": "Very Hot",
        "description": "Extremely hot and dry.",
        "humidity_percent": 25,
        "wind_speed_kmph": 20,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Rajasthan",
      "city": "Jaipur",
      "coordinates": {
        "latitude": 26.9124,
        "longitude": 75.7873
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 40,
        "temperature_fahrenheit": 104,
        "condition": "Scorching",
        "description": "Intensely hot and sunny.",
        "humidity_percent": 20,
        "wind_speed_kmph": 18,
        "wind_direction": "SW",
        "icon_code": "01d"
      }
    },
    {
      "state": "Uttar Pradesh",
      "city": "Lucknow",
      "coordinates": {
        "latitude": 26.8467,
        "longitude": 80.9462
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 37,
        "temperature_fahrenheit": 98.6,
        "condition": "Hot and Clear",
        "description": "Clear skies, very hot.",
        "humidity_percent": 35,
        "wind_speed_kmph": 10,
        "wind_direction": "NW",
        "icon_code": "01d"
      }
    },
    {
      "state": "Madhya Pradesh",
      "city": "Bhopal",
      "coordinates": {
        "latitude": 23.2599,
        "longitude": 77.4126
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 36,
        "temperature_fahrenheit": 96.8,
        "condition": "Sunny",
        "description": "Sunny and hot.",
        "humidity_percent": 40,
        "wind_speed_kmph": 14,
        "wind_direction": "S",
        "icon_code": "01d"
      }
    },
    {
      "state": "Odisha",
      "city": "Bhubaneswar",
      "coordinates": {
        "latitude": 20.2961,
        "longitude": 85.8245
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 35,
        "temperature_fahrenheit": 95,
        "condition": "Humid",
        "description": "Humid with high temperatures.",
        "humidity_percent": 78,
        "wind_speed_kmph": 12,
        "wind_direction": "SE",
        "icon_code": "01d"
      }
    },
    {
      "state": "Punjab",
      "city": "Amritsar",
      "coordinates": {
        "latitude": 31.6340,
        "longitude": 74.8723
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 38,
        "temperature_fahrenheit": 100.4,
        "condition": "Clear",
        "description": "Clear and hot.",
        "humidity_percent": 28,
        "wind_speed_kmph": 15,
        "wind_direction": "W",
        "icon_code": "01d"
      }
    },
    {
      "state": "Kerala",
      "city": "Kochi",
      "coordinates": {
        "latitude": 9.9312,
        "longitude": 76.2673
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 27,
        "temperature_fahrenheit": 80.6,
        "condition": "Rainy",
        "description": "Frequent showers.",
        "humidity_percent": 90,
        "wind_speed_kmph": 22,
        "wind_direction": "SW",
        "icon_code": "10d"
      }
    },
    {
      "state": "Goa",
      "city": "Panaji",
      "coordinates": {
        "latitude": 15.4989,
        "longitude": 73.8278
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 28,
        "temperature_fahrenheit": 82.4,
        "condition": "Partly Cloudy",
        "description": "Pleasant with some clouds.",
        "humidity_percent": 80,
        "wind_speed_kmph": 16,
        "wind_direction": "W",
        "icon_code": "04d"
      }
    },
    {
      "state": "Bihar",
      "city": "Patna",
      "coordinates": {
        "latitude": 25.5941,
        "longitude": 85.1376
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 37,
        "temperature_fahrenheit": 98.6,
        "condition": "Sunny",
        "description": "Hot and clear.",
        "humidity_percent": 40,
        "wind_speed_kmph": 10,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Assam",
      "city": "Guwahati",
      "coordinates": {
        "latitude": 26.1445,
        "longitude": 91.7362
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Rainy",
        "description": "Heavy rainfall expected.",
        "humidity_percent": 92,
        "wind_speed_kmph": 25,
        "wind_direction": "NE",
        "icon_code": "09d"
      }
    },
    {
      "state": "Jammu and Kashmir",
      "city": "Srinagar",
      "coordinates": {
        "latitude": 34.0837,
        "longitude": 74.7973
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 20,
        "temperature_fahrenheit": 68,
        "condition": "Pleasant",
        "description": "Cool and clear.",
        "humidity_percent": 60,
        "wind_speed_kmph": 8,
        "wind_direction": "N",
        "icon_code": "01d"
      }
    },
    {
      "state": "Himachal Pradesh",
      "city": "Shimla",
      "coordinates": {
        "latitude": 31.1048,
        "longitude": 77.1734
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 18,
        "temperature_fahrenheit": 64.4,
        "condition": "Mild",
        "description": "Cool and breezy.",
        "humidity_percent": 65,
        "wind_speed_kmph": 10,
        "wind_direction": "SW",
        "icon_code": "02d"
      }
    },
    {
      "state": "Uttarakhand",
      "city": "Dehradun",
      "coordinates": {
        "latitude": 30.3165,
        "longitude": 78.0322
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 28,
        "temperature_fahrenheit": 82.4,
        "condition": "Partly Cloudy",
        "description": "Partly cloudy with pleasant temperatures.",
        "humidity_percent": 68,
        "wind_speed_kmph": 12,
        "wind_direction": "NW",
        "icon_code": "04d"
      }
    },
    {
      "state": "Chhattisgarh",
      "city": "Raipur",
      "coordinates": {
        "latitude": 21.2514,
        "longitude": 81.6296
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 36,
        "temperature_fahrenheit": 96.8,
        "condition": "Sunny",
        "description": "Hot and clear.",
        "humidity_percent": 45,
        "wind_speed_kmph": 15,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Jharkhand",
      "city": "Ranchi",
      "coordinates": {
        "latitude": 23.3441,
        "longitude": 85.3096
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Partly Cloudy",
        "description": "Partly cloudy with warm temperatures.",
        "humidity_percent": 60,
        "wind_speed_kmph": 10,
        "wind_direction": "S",
        "icon_code": "04d"
      }
    },
    {
      "state": "Andhra Pradesh",
      "city": "Visakhapatnam",
      "coordinates": {
        "latitude": 17.6868,
        "longitude": 83.2185
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 34,
        "temperature_fahrenheit": 93.2,
        "condition": "Humid",
        "description": "Hot and humid.",
        "humidity_percent": 80,
        "wind_speed_kmph": 18,
        "wind_direction": "SE",
        "icon_code": "01d"
      }
    },
    {
      "state": "Andhra Pradesh",
      "city": "Vijayawada",
      "coordinates": {
        "latitude": 16.5062,
        "longitude": 80.6480
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 35,
        "temperature_fahrenheit": 95,
        "condition": "Sunny",
        "description": "Clear and hot.",
        "humidity_percent": 75,
        "wind_speed_kmph": 15,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Komaram Bheem",
      "coordinates": {
        "latitude": 19.3333,
        "longitude": 79.4667
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 29,
        "temperature_fahrenheit": 84.2,
        "condition": "Cloudy",
        "description": "Overcast conditions.",
        "humidity_percent": 72,
        "wind_speed_kmph": 9,
        "wind_direction": "N",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Jayashankar Bhupalpally",
      "coordinates": {
        "latitude": 18.4333,
        "longitude": 79.8833
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Partly Cloudy",
        "description": "Mix of sun and clouds.",
        "humidity_percent": 65,
        "wind_speed_kmph": 11,
        "wind_direction": "SW",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Medak",
      "coordinates": {
        "latitude": 18.0333,
        "longitude": 78.2667
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 31,
        "temperature_fahrenheit": 87.8,
        "condition": "Sunny",
        "description": "Clear skies.",
        "humidity_percent": 58,
        "wind_speed_kmph": 10,
        "wind_direction": "SE",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Jogulamba Gadwal",
      "coordinates": {
        "latitude": 16.2167,
        "longitude": 77.8167
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 33,
        "temperature_fahrenheit": 91.4,
        "condition": "Hazy",
        "description": "Hazy with high temperatures.",
        "humidity_percent": 50,
        "wind_speed_kmph": 13,
        "wind_direction": "E",
        "icon_code": "50d"
      }
    },
    {
      "state": "Telangana",
      "city": "Rajanna Sircilla",
      "coordinates": {
        "latitude": 18.4167,
        "longitude": 78.8500
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Partly Cloudy",
        "description": "Some clouds and sun.",
        "humidity_percent": 60,
        "wind_speed_kmph": 11,
        "wind_direction": "N",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Mulugu",
      "coordinates": {
        "latitude": 17.9667,
        "longitude": 80.2000
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Sunny",
        "description": "Clear and warm.",
        "humidity_percent": 55,
        "wind_speed_kmph": 14,
        "wind_direction": "S",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Narayanpet",
      "coordinates": {
        "latitude": 16.7333,
        "longitude": 77.9500
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 33,
        "temperature_fahrenheit": 91.4,
        "condition": "Hazy",
        "description": "Hazy and warm.",
        "humidity_percent": 52,
        "wind_speed_kmph": 12,
        "wind_direction": "SW",
        "icon_code": "50d"
      }
    },
    {
      "state": "Telangana",
      "city": "Wanaparthy",
      "coordinates": {
        "latitude": 16.3500,
        "longitude": 78.0167
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Partly Cloudy",
        "description": "Scattered clouds.",
        "humidity_percent": 60,
        "wind_speed_kmph": 10,
        "wind_direction": "W",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Yadadri Bhuvanagiri",
      "coordinates": {
        "latitude": 17.4833,
        "longitude": 79.1667
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 34,
        "temperature_fahrenheit": 93.2,
        "condition": "Sunny",
        "description": "Clear and hot.",
        "humidity_percent": 48,
        "wind_speed_kmph": 16,
        "wind_direction": "SE",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Jangaon",
      "coordinates": {
        "latitude": 17.7167,
        "longitude": 79.1667
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 31,
        "temperature_fahrenheit": 87.8,
        "condition": "Hazy",
        "description": "Hazy conditions.",
        "humidity_percent": 55,
        "wind_speed_kmph": 9,
        "wind_direction": "NE",
        "icon_code": "50d"
      }
    },
    {
      "state": "Telangana",
      "city": "Jayashankar",
      "coordinates": {
        "latitude": 18.4333,
        "longitude": 79.8833
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Cloudy",
        "description": "Overcast.",
        "humidity_percent": 70,
        "wind_speed_kmph": 10,
        "wind_direction": "E",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Nagarkurnool",
      "coordinates": {
        "latitude": 16.4833,
        "longitude": 78.3167
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Partly Cloudy",
        "description": "Mix of sun and clouds.",
        "humidity_percent": 60,
        "wind_speed_kmph": 14,
        "wind_direction": "W",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Kamareddy",
      "coordinates": {
        "latitude": 18.3167,
        "longitude": 78.3500
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 31,
        "temperature_fahrenheit": 87.8,
        "condition": "Hazy",
        "description": "Hazy with reduced visibility.",
        "humidity_percent": 55,
        "wind_speed_kmph": 9,
        "wind_direction": "NW",
        "icon_code": "50d"
      }
    },
    {
      "state": "Telangana",
      "city": "Kothagudem",
      "coordinates": {
        "latitude": 17.9500,
        "longitude": 80.6167
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 33,
        "temperature_fahrenheit": 91.4,
        "condition": "Sunny",
        "description": "Clear and hot.",
        "humidity_percent": 50,
        "wind_speed_kmph": 15,
        "wind_direction": "S",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Peddapalli",
      "coordinates": {
        "latitude": 18.6167,
        "longitude": 79.4333
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 31,
        "temperature_fahrenheit": 87.8,
        "condition": "Partly Cloudy",
        "description": "Scattered clouds.",
        "humidity_percent": 60,
        "wind_speed_kmph": 12,
        "wind_direction": "SW",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Vikarabad",
      "coordinates": {
        "latitude": 17.3333,
        "longitude": 77.9000
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Sunny",
        "description": "Clear skies.",
        "humidity_percent": 55,
        "wind_speed_kmph": 10,
        "wind_direction": "NW",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Sangareddy",
      "coordinates": {
        "latitude": 17.6500,
        "longitude": 78.0833
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Hazy",
        "description": "Hazy with some sun.",
        "humidity_percent": 58,
        "wind_speed_kmph": 11,
        "wind_direction": "N",
        "icon_code": "50d"
      }
    },
    {
      "state": "Maharashtra",
      "city": "Nashik",
      "coordinates": {
        "latitude": 19.9975,
        "longitude": 73.7898
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 27,
        "temperature_fahrenheit": 80.6,
        "condition": "Pleasant",
        "description": "Mild and pleasant.",
        "humidity_percent": 70,
        "wind_speed_kmph": 15,
        "wind_direction": "SW",
        "icon_code": "02d"
      }
    },
    {
      "state": "Maharashtra",
      "city": "Aurangabad",
      "coordinates": {
        "latitude": 19.8762,
        "longitude": 75.3433
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 34,
        "temperature_fahrenheit": 93.2,
        "condition": "Sunny",
        "description": "Clear and hot.",
        "humidity_percent": 50,
        "wind_speed_kmph": 12,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Karnataka",
      "city": "Mysuru",
      "coordinates": {
        "latitude": 12.2958,
        "longitude": 76.6394
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 24,
        "temperature_fahrenheit": 75.2,
        "condition": "Pleasant",
        "description": "Cool and pleasant.",
        "humidity_percent": 72,
        "wind_speed_kmph": 14,
        "wind_direction": "W",
        "icon_code": "02d"
      }
    },
    {
      "state": "Karnataka",
      "city": "Mangaluru",
      "coordinates": {
        "latitude": 12.9142,
        "longitude": 74.8560
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 29,
        "temperature_fahrenheit": 84.2,
        "condition": "Rainy",
        "description": "Likely rainfall.",
        "humidity_percent": 88,
        "wind_speed_kmph": 20,
        "wind_direction": "SW",
        "icon_code": "10d"
      }
    },
    {
      "state": "Tamil Nadu",
      "city": "Coimbatore",
      "coordinates": {
        "latitude": 11.0168,
        "longitude": 76.9558
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Partly Cloudy",
        "description": "Partly cloudy with warm temperatures.",
        "humidity_percent": 70,
        "wind_speed_kmph": 15,
        "wind_direction": "E",
        "icon_code": "04d"
      }
    },
    {
      "state": "Tamil Nadu",
      "city": "Madurai",
      "coordinates": {
        "latitude": 9.9252,
        "longitude": 78.1198
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 37,
        "temperature_fahrenheit": 98.6,
        "condition": "Sunny",
        "description": "Very hot and sunny.",
        "humidity_percent": 65,
        "wind_speed_kmph": 10,
        "wind_direction": "SE",
        "icon_code": "01d"
      }
    },
    {
      "state": "West Bengal",
      "city": "Howrah",
      "coordinates": {
        "latitude": 22.5800,
        "longitude": 88.3100
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 31,
        "temperature_fahrenheit": 87.8,
        "condition": "Humid",
        "description": "Humid conditions.",
        "humidity_percent": 80,
        "wind_speed_kmph": 12,
        "wind_direction": "S",
        "icon_code": "01d"
      }
    },
    {
      "state": "Gujarat",
      "city": "Surat",
      "coordinates": {
        "latitude": 21.1702,
        "longitude": 72.8311
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 38,
        "temperature_fahrenheit": 100.4,
        "condition": "Hot and Dry",
        "description": "Very hot with dry air.",
        "humidity_percent": 30,
        "wind_speed_kmph": 18,
        "wind_direction": "SW",
        "icon_code": "01d"
      }
    },
    {
      "state": "Rajasthan",
      "city": "Udaipur",
      "coordinates": {
        "latitude": 24.5854,
        "longitude": 73.7125
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 39,
        "temperature_fahrenheit": 102.2,
        "condition": "Sunny",
        "description": "Clear and very hot.",
        "humidity_percent": 25,
        "wind_speed_kmph": 15,
        "wind_direction": "NW",
        "icon_code": "01d"
      }
    },
    {
      "state": "Uttar Pradesh",
      "city": "Kanpur",
      "coordinates": {
        "latitude": 26.4499,
        "longitude": 80.3319
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 38,
        "temperature_fahrenheit": 100.4,
        "condition": "Clear",
        "description": "Hot and clear.",
        "humidity_percent": 32,
        "wind_speed_kmph": 12,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Madhya Pradesh",
      "city": "Indore",
      "coordinates": {
        "latitude": 22.7196,
        "longitude": 75.8577
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 35,
        "temperature_fahrenheit": 95,
        "condition": "Sunny",
        "description": "Sunny and hot.",
        "humidity_percent": 42,
        "wind_speed_kmph": 14,
        "wind_direction": "SW",
        "icon_code": "01d"
      }
    },
    {
      "state": "Odisha",
      "city": "Cuttack",
      "coordinates": {
        "latitude": 20.4625,
        "longitude": 85.8829
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 34,
        "temperature_fahrenheit": 93.2,
        "condition": "Humid",
        "description": "Humid and warm.",
        "humidity_percent": 79,
        "wind_speed_kmph": 10,
        "wind_direction": "SE",
        "icon_code": "01d"
      }
    },
    {
      "state": "Punjab",
      "city": "Ludhiana",
      "coordinates": {
        "latitude": 30.9010,
        "longitude": 75.8533
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 39,
        "temperature_fahrenheit": 102.2,
        "condition": "Clear",
        "description": "Clear and hot.",
        "humidity_percent": 27,
        "wind_speed_kmph": 16,
        "wind_direction": "W",
        "icon_code": "01d"
      }
    },
    {
      "state": "Kerala",
      "city": "Thiruvananthapuram",
      "coordinates": {
        "latitude": 8.5241,
        "longitude": 76.9366
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 26,
        "temperature_fahrenheit": 78.8,
        "condition": "Rainy",
        "description": "Rainfall likely.",
        "humidity_percent": 91,
        "wind_speed_kmph": 23,
        "wind_direction": "SW",
        "icon_code": "10d"
      }
    },
    {
      "state": "Goa",
      "city": "Margao",
      "coordinates": {
        "latitude": 15.2869,
        "longitude": 73.9856
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 27,
        "temperature_fahrenheit": 80.6,
        "condition": "Partly Cloudy",
        "description": "Pleasant with some clouds.",
        "humidity_percent": 82,
        "wind_speed_kmph": 17,
        "wind_direction": "W",
        "icon_code": "04d"
      }
    },
    {
      "state": "Bihar",
      "city": "Gaya",
      "coordinates": {
        "latitude": 24.7925,
        "longitude": 84.9984
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 38,
        "temperature_fahrenheit": 100.4,
        "condition": "Sunny",
        "description": "Hot and clear.",
        "humidity_percent": 38,
        "wind_speed_kmph": 11,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Assam",
      "city": "Jorhat",
      "coordinates": {
        "latitude": 26.7570,
        "longitude": 94.2059
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 29,
        "temperature_fahrenheit": 84.2,
        "condition": "Rainy",
        "description": "Heavy rainfall expected.",
        "humidity_percent": 93,
        "wind_speed_kmph": 24,
        "wind_direction": "NE",
        "icon_code": "09d"
      }
    },
    {
      "state": "Haryana",
      "city": "Gurgaon",
      "coordinates": {
        "latitude": 28.4595,
        "longitude": 77.0266
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 39,
        "temperature_fahrenheit": 102.2,
        "condition": "Clear",
        "description": "Hot and clear.",
        "humidity_percent": 30,
        "wind_speed_kmph": 15,
        "wind_direction": "NW",
        "icon_code": "01d"
      }
    },
    {
      "state": "Haryana",
      "city": "Faridabad",
      "coordinates": {
        "latitude": 28.4089,
        "longitude": 77.3178
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 38,
        "temperature_fahrenheit": 100.4,
        "condition": "Sunny",
        "description": "Sunny and hot.",
        "humidity_percent": 32,
        "wind_speed_kmph": 14,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Himachal Pradesh",
      "city": "Manali",
      "coordinates": {
        "latitude": 32.2390,
        "longitude": 77.1887
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 15,
        "temperature_fahrenheit": 59,
        "condition": "Cool",
        "description": "Cool with light breeze.",
        "humidity_percent": 68,
        "wind_speed_kmph": 9,
        "wind_direction": "N",
        "icon_code": "02d"
      }
    },
    {
      "state": "Uttarakhand",
      "city": "Haridwar",
      "coordinates": {
        "latitude": 29.9457,
        "longitude": 78.1642
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Partly Cloudy",
        "description": "Partly cloudy and warm.",
        "humidity_percent": 65,
        "wind_speed_kmph": 11,
        "wind_direction": "NW",
        "icon_code": "04d"
      }
    },
    {
      "state": "Chhattisgarh",
      "city": "Bhilai",
      "coordinates": {
        "latitude": 21.2173,
        "longitude": 81.3856
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 35,
        "temperature_fahrenheit": 95,
        "condition": "Sunny",
        "description": "Hot and clear.",
        "humidity_percent": 48,
        "wind_speed_kmph": 16,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Jharkhand",
      "city": "Jamshedpur",
      "coordinates": {
        "latitude": 22.8045,
        "longitude": 86.1837
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 33,
        "temperature_fahrenheit": 91.4,
        "condition": "Partly Cloudy",
        "description": "Partly cloudy with warm temperatures.",
        "humidity_percent": 58,
        "wind_speed_kmph": 12,
        "wind_direction": "S",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Asifabad",
      "coordinates": {
        "latitude": 19.3333,
        "longitude": 79.2833
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 29,
        "temperature_fahrenheit": 84.2,
        "condition": "Cloudy",
        "description": "Overcast.",
        "humidity_percent": 75,
        "wind_speed_kmph": 10,
        "wind_direction": "N",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Jangaon",
      "coordinates": {
        "latitude": 17.7167,
        "longitude": 79.1667
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 31,
        "temperature_fahrenheit": 87.8,
        "condition": "Hazy",
        "description": "Hazy with some sun.",
        "humidity_percent": 55,
        "wind_speed_kmph": 9,
        "wind_direction": "NE",
        "icon_code": "50d"
      }
    },
    {
      "state": "Telangana",
      "city": "Gadwal",
      "coordinates": {
        "latitude": 16.2167,
        "longitude": 77.8167
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 33,
        "temperature_fahrenheit": 91.4,
        "condition": "Sunny",
        "description": "Clear and hot.",
        "humidity_percent": 50,
        "wind_speed_kmph": 13,
        "wind_direction": "E",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Sircilla",
      "coordinates": {
        "latitude": 18.4167,
        "longitude": 78.8500
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 30,
        "temperature_fahrenheit": 86,
        "condition": "Partly Cloudy",
        "description": "Some clouds and sun.",
        "humidity_percent": 60,
        "wind_speed_kmph": 11,
        "wind_direction": "N",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Mulugu",
      "coordinates": {
        "latitude": 17.9667,
        "longitude": 80.2000
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Sunny",
        "description": "Clear and warm.",
        "humidity_percent": 55,
        "wind_speed_kmph": 14,
        "wind_direction": "S",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Narayanpet",
      "coordinates": {
        "latitude": 16.7333,
        "longitude": 77.9500
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 33,
        "temperature_fahrenheit": 91.4,
        "condition": "Hazy",
        "description": "Hazy and warm.",
        "humidity_percent": 52,
        "wind_speed_kmph": 12,
        "wind_direction": "SW",
        "icon_code": "50d"
      }
    },
    {
      "state": "Telangana",
      "city": "Wanaparthy",
      "coordinates": {
        "latitude": 16.3500,
        "longitude": 78.0167
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Partly Cloudy",
        "description": "Scattered clouds.",
        "humidity_percent": 60,
        "wind_speed_kmph": 10,
        "wind_direction": "W",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Yadadri",
      "coordinates": {
        "latitude": 17.4833,
        "longitude": 79.1667
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 34,
        "temperature_fahrenheit": 93.2,
        "condition": "Sunny",
        "description": "Clear and hot.",
        "humidity_percent": 48,
        "wind_speed_kmph": 16,
        "wind_direction": "SE",
        "icon_code": "01d"
      }
    },
    {
      "state": "Telangana",
      "city": "Medchal",
      "coordinates": {
        "latitude": 17.5833,
        "longitude": 78.4833
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 33,
        "temperature_fahrenheit": 91.4,
        "condition": "Partly Cloudy",
        "description": "Scattered clouds.",
        "humidity_percent": 63,
        "wind_speed_kmph": 14,
        "wind_direction": "SW",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Rangareddy",
      "coordinates": {
        "latitude": 17.3850,
        "longitude": 78.4867
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 32,
        "temperature_fahrenheit": 89.6,
        "condition": "Partly Cloudy",
        "description": "Scattered clouds with a chance of light showers.",
        "humidity_percent": 65,
        "wind_speed_kmph": 15,
        "wind_direction": "SW",
        "icon_code": "04d"
      }
    },
    {
      "state": "Telangana",
      "city": "Bhadradri Kothagudem",
      "coordinates": {
        "latitude": 17.9500,
        "longitude": 80.6167
      },
      "weather_data": {
        "date": "2025-06-07",
        "temperature_celsius": 33,
        "temperature_fahrenheit": 91.4,
        "condition": "Sunny",
        "description": "Clear and hot.",
        "humidity_percent": 50,
        "wind_speed_kmph": 15,
        "wind_direction": "S",
        "icon_code": "01d"
      }
    }
  ]
};


export interface LocationResult {
  name: string;
  lat: number;
  lon: number;
  country: string;
  state?: string;
}

export const searchLocations = async (query: string): Promise<LocationResult[]> => {
  // Search through Indian cities and states
  const results = INDIAN_WEATHER_DATA.locations
    .filter(location => 
      location.city.toLowerCase().includes(query.toLowerCase()) ||
      location.state.toLowerCase().includes(query.toLowerCase())
    )
    .map(location => ({
      name: location.city,
      lat: location.coordinates.latitude,
      lon: location.coordinates.longitude,
      country: 'IN',
      state: location.state
    }))
    .slice(0, 5);

  return results;
};

export const getWeatherData = async (lat: number, lon: number): Promise<any> => {
  // Find matching location in our Indian data
  const location = INDIAN_WEATHER_DATA.locations.find(loc => 
    Math.abs(loc.coordinates.latitude - lat) < 0.1 && 
    Math.abs(loc.coordinates.longitude - lon) < 0.1
  );

  if (location) {
    const weather = location.weather_data;
    
    return {
      location: {
        name: `${location.city}, ${location.state}`,
        lat: location.coordinates.latitude,
        lon: location.coordinates.longitude,
        state: location.state,
        city: location.city
      },
      current: {
        dt: Date.now() / 1000,
        temp: weather.temperature_celsius,
        feels_like: weather.temperature_celsius + 2,
        humidity: weather.humidity_percent,
        pressure: 1013,
        wind_speed: weather.wind_speed_kmph / 3.6, // Convert to m/s
        wind_deg: getWindDegrees(weather.wind_direction),
        weather: [{
          id: 801,
          main: weather.condition,
          description: weather.description,
          icon: weather.icon_code
        }]
      },
      daily: generateDailyForecast(weather.temperature_celsius, weather.humidity_percent, weather.condition),
      hourly: generateHourlyForecast(weather.temperature_celsius, weather.humidity_percent)
    };
  }

  // Fallback to default Hyderabad data if location not found
  const defaultLocation = INDIAN_WEATHER_DATA.locations[0];
  const weather = defaultLocation.weather_data;
  
  return {
    location: {
      name: `${defaultLocation.city}, ${defaultLocation.state}`,
      lat: defaultLocation.coordinates.latitude,
      lon: defaultLocation.coordinates.longitude,
      state: defaultLocation.state,
      city: defaultLocation.city
    },
    current: {
      dt: Date.now() / 1000,
      temp: weather.temperature_celsius,
      feels_like: weather.temperature_celsius + 2,
      humidity: weather.humidity_percent,
      pressure: 1013,
      wind_speed: weather.wind_speed_kmph / 3.6,
      wind_deg: getWindDegrees(weather.wind_direction),
      weather: [{
        id: 801,
        main: weather.condition,
        description: weather.description,
        icon: weather.icon_code
      }]
    },
    daily: generateDailyForecast(weather.temperature_celsius, weather.humidity_percent, weather.condition),
    hourly: generateHourlyForecast(weather.temperature_celsius, weather.humidity_percent)
  };
};

const getWindDegrees = (direction: string): number => {
  const directions: { [key: string]: number } = {
    'N': 0, 'NE': 45, 'E': 90, 'SE': 135,
    'S': 180, 'SW': 225, 'W': 270, 'NW': 315
  };
  return directions[direction] || 0;
};

const generateDailyForecast = (baseTemp: number, baseHumidity: number, condition: string) => {
  return Array.from({ length: 8 }, (_, i) => {
    const date = new Date();
    date.setDate(date.getDate() + i);
    const tempVariation = (Math.random() - 0.5) * 6;
    
    return {
      dt: date.getTime() / 1000,
      temp: {
        day: Math.round(baseTemp + tempVariation),
        min: Math.round(baseTemp - 5 + tempVariation),
        max: Math.round(baseTemp + 3 + tempVariation),
        night: Math.round(baseTemp - 3 + tempVariation),
        eve: Math.round(baseTemp + 1 + tempVariation),
        morn: Math.round(baseTemp - 2 + tempVariation)
      },
      humidity: Math.min(100, Math.max(20, baseHumidity + (Math.random() - 0.5) * 20)),
      wind_speed: 2 + Math.random() * 5,
      weather: [{
        id: 801,
        main: condition,
        description: condition.toLowerCase(),
        icon: getIconForCondition(condition)
      }],
      pop: Math.random() * 0.8
    };
  });
};

const generateHourlyForecast = (baseTemp: number, baseHumidity: number) => {
  return Array.from({ length: 48 }, (_, i) => {
    const tempVariation = Math.sin((i * Math.PI) / 12) * 5; // Temperature curve throughout day
    
    return {
      dt: (Date.now() / 1000) + (i * 3600),
      temp: Math.round(baseTemp + tempVariation + (Math.random() - 0.5) * 3),
      humidity: Math.min(100, Math.max(20, baseHumidity + (Math.random() - 0.5) * 15)),
      wind_speed: 2 + Math.random() * 5,
      weather: [{
        id: 801,
        main: 'Clear',
        description: 'clear sky',
        icon: i % 24 < 6 || i % 24 > 18 ? '01n' : '01d'
      }]
    };
  });
};

const getIconForCondition = (condition: string): string => {
  const conditionMap: { [key: string]: string } = {
    'Sunny': '01d',
    'Clear': '01d',
    'Partly Cloudy': '04d',
    'Cloudy': '04d',
    'Rainy': '10d',
    'Hazy': '50d',
    'Hot': '01d',
    'Pleasant': '02d',
    'Humid': '01d'
  };
  return conditionMap[condition] || '01d';
};

// Get all available states for dropdown
export const getAvailableStates = (): string[] => {
  const states = [...new Set(INDIAN_WEATHER_DATA.locations.map(loc => loc.state))];
  return states.sort();
};

// Get cities by state
export const getCitiesByState = (state: string): string[] => {
  const cities = INDIAN_WEATHER_DATA.locations
    .filter(loc => loc.state === state)
    .map(loc => loc.city);
  return cities.sort();
};
